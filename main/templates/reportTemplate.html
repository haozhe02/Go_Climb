<html>
<head>
    {% load static %}
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Untree.co">

  <meta name="description" content="" />
  <meta name="keywords" content="bootstrap, bootstrap4" />
  <title>Go Climb Website Usage Report</title>
    <style>
        @page {
            size: a4 portrait;
            @frame header_frame {           
                -pdf-frame-content: header_content;
                left: 50pt; width: 512pt; top: 50pt; height: 40pt;
            }
            @frame content_frame {          
                left: 50pt; width: 512pt; top: 90pt; height: 632pt;
            }
            @frame footer_frame {          
                -pdf-frame-content: footer_content;
                left: 50pt; width: 512pt; top: 772pt; height: 20pt;
            }
        }
    </style>
    </head>
    
    <body>
        <!-- Content for Static Frame 'header_frame' -->
        <div id="header_content">   
            <h1>Go Climb Webiste Usage Report</h1>
            
        </div>
    
        <!-- Content for Static Frame 'footer_frame' -->
        <div id="footer_content">Go Climb Website Usage Report - page <pdf:pagenumber>
            of <pdf:pagecount>
        </div>
        <h2>Date Created: {{date}}</h2>
        <h2>Generated By: {{user}}</h2> 

        <br><br>

        <h3>Past Week Usage</h3>       
        <hr>
        <table>
            <tr>
                <td><b>New User In Last Week:</b> </td>
                <td>{% for user in recent_users %}{{user}}{% if forloop.last == False %}, {% endif %}{% endfor %}</td>
            </tr>
            <tr>
                <td><b>Total New User In Last Week:</b> </td>
                <td>{{totalUserPastWeek}}</td>
            </tr>
            
            <tr>
                <td><b>Total Post Created In Last Week:</b> </td>
                <td>{{recent_posts_count}}</td>
            </tr>
            
        </table>
        <hr>

        <br><br>

        <h3>Past Month Usage</h3>       
        <hr>
        <table>
            <tr>
                <td><b>New User In Last Month:</b> </td>
                <td>{% for user in last_month_users %}{{user}}{% if forloop.last == False %}, {% endif %}{% endfor %}</td>
            </tr>
            <tr>
                <td><b>Total New User In Last Month:</b> </td>
                <td>{{totalUserPastMonth}}</td>
            </tr>
            <tr>
                <td><b>Total Post Created In Last Month:</b> </td>
                <td>{{last_month_posts_count}}</td>
            </tr>
        </table>
        <hr>

        <br><br>

        <h3>Forum Overview</h3> 
        
        <h3>Main Topic</h3>
        <hr>
        <table>
            <tr>
                <td><b>Total Main Topic In Forum:</b></td>
                <td> {{total_topic}} </td>
            </tr>
            <tr>
                <td><b>Total Main Topic View In Forum:</b> </td>
                <td> {{total_topic_view}}</td>
            </tr>
            <tr>
                <td><b>Most Popular Main Topic:</b></td>
                <td>{{most_popular_topic}} </td>
            </tr>
            <tr>
                <td><b>Most Popular Main Topic View Count:</b></td>
                <td>{{most_popular_topic.totalView}}</td>
            </tr>
        </table>
        <hr>

        <h3>Sub Topic</h3>
        <hr>
        <table>
            <tr>
                <td><b>Total Sub Topic In Forum:</b> </td>
                <td>{{total_subtopic}}</td>
            </tr>
            <tr>
                <td><b>Total Sub Topic View In Forum:</b></td>
                <td>{{total_subtopic_view}}</td>
            </tr>
            <tr>
                <td><b>Most Popular Sub Topic:</b></td>
                <td>{{most_popular_subtopic}}</td>
            </tr>
            <tr>
                <td><b>Most Popular Sub Topic View Count:</b></td>
                <td>{{most_popular_subtopic.totalView}}</td>
            </tr>
        </table>
        <hr>

        <h3>Post</h3>
        <hr>
        <table>
            <tr>
                <td><b>Total Post In Forum:</b></td>
                <td>{{total_post}}</td>
            </tr>
            <tr>
                <td><b>Total Post View In Forum:</b></td>
                <td>{{total_post_view}}</td>
            </tr>
            <tr>
                <td><b>Most Popular Post:</b></td>
                <td>{{most_popular_post}} </td>
            </tr>
            <tr>
                <td><b>Most Popular Post View Count:</b></td>
                <td>{{most_popular_post.totalView}}</td>
            </tr>
        </table>
        <hr>    
    </body>
    </html>